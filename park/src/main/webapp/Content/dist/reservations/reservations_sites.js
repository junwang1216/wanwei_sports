!function(t){var e={opts:{URL:"/site/getSiteInfos"},init:function(){this.initEvents()},initEvents:function(){function e(){t("#site_id").val(""),t("#site_type").val(""),t("#site_name").val(""),t("#site_remark").val(""),t("#site_status1").prop("checked",!0)}var i=this;t(".site-filter").on("click",function(e){e.preventDefault();var a=t("#site_filter_form").serialize();location.assign(i.opts.URL+"?"+a)}),t(".page-first, .page-prev, .page-index, .page-next, .page-last").on("click",function(e){e.preventDefault();var a=location.search,n=t(this).attr("data-index");a?a.indexOf("page=")==-1?location.assign(i.opts.URL+"?"+a+"&page="+n):location.assign(i.opts.URL+"?"+a.replace(/(page=)\d+/,"$1"+n)):location.assign(i.opts.URL+"?page="+n)}),t(".site-add").on("click",function(i){i.preventDefault(),e(),t("#settingModal").modal({backdrop:!1,show:!0})}),t(".site-list").on("click",".site-update",function(i){i.preventDefault();var a=t(this);e(),t.post("/site/getSiteInfo",{siteId:a.attr("data-id")},function(e){var i=e.data;1==e.code?(t.each(i,function(e,i){t("#site_form").find("*[name='"+e+"']").not(":radio").val(i)}),t("#site_form").find("input[name='siteStatus'][value='"+i.siteStatus+"']").prop("checked",!0),t("#settingModal").modal({backdrop:!1,show:!0})):(console.log(e.message||"场地查询失败, 请稍后重试"),alert(e.message||"场地查询失败, 请稍后重试"))})}),t(".site-confirm").on("click",function(e){e.preventDefault();var i=t("#site_form"),a=i.serialize();return!("submitting"==i.attr("submitting")||!i.valid())&&(i.attr("submitting","submitting"),void t.post("/site/saveSiteInfo",a,function(t){i.attr("submitting",""),1==t.code?location.reload():(console.log(t.message||"场地设置失败, 请稍后重试"),alert(t.message||"场地设置失败, 请稍后重试"))}))})}};e.init()}(jQuery);