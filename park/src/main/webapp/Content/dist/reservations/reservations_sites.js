!function(t){var i={opts:{URL:"/site/getSiteInfos"},init:function(){this.initEvents()},initEvents:function(){function i(){t("#site_id").val(""),t("#site_type").val(""),t("#site_name").val(""),t("#site_remark").val(""),t("#site_status1").prop("checked",!0)}var e=this;t(".site-filter").on("click",function(i){i.preventDefault();var a=t("#site_filter_form").serialize();location.assign(e.opts.URL+"?"+a)}),t(".page-first, .page-prev, .page-index, .page-next, .page-last").on("click",function(i){i.preventDefault();var a=location.search,n=t(this).attr("data-index");a?a.indexOf("page=")==-1?location.assign(e.opts.URL+"?"+a+"&page="+n):location.assign(e.opts.URL+"?"+a.replace(/(page=)\d+/,"$1"+n)):location.assign(e.opts.URL+"?page="+n)}),t(".site-add").on("click",function(e){e.preventDefault(),i(),t("#settingModal").modal({backdrop:!1,show:!0})}),t(".site-list").on("click",".site-update",function(e){e.preventDefault();var a=t(this);i(),t.post("/site/getSiteInfo",{siteId:a.attr("data-id")},function(i){var e=i.data;t.each(e,function(i,e){t("#site_form").find("*[name='"+i+"']").not(":radio").val(e)}),t("#site_form").find("input[name='siteStatus'][value='"+e.siteStatus+"']").prop("checked",!0),t("#settingModal").modal({backdrop:!1,show:!0})})}),t(".site-confirm").on("click",function(i){i.preventDefault();var e=t("#site_form"),a=e.serialize();return!("submitting"==e.attr("submitting")||!e.valid())&&(e.attr("submitting","submitting"),void t.post("/site/saveSiteInfo",a,function(t){e.attr("submitting",""),1==t.code?location.reload():alert(t.message||"场地设置失败, 请稍后重试")}))})}};i.init()}(jQuery);