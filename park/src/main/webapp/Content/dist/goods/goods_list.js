!function(t){var o={opts:{URL:"/good/getGoods"},init:function(){this.initEvents()},initEvents:function(){function o(o,i){t.post("/good/goodInOrOut",{goodId:o,up:i},function(t){1==t.code?location.reload():alert(t.message||"上/下架失败, 请稍后重试")})}var i=this;t(".goods-filter").on("click",function(o){o.preventDefault();var n=t("#goods_filter_form").serialize();t.tipsWarningAlert,location.assign(i.opts.URL+"?"+n)}),t(".page-first, .page-prev, .page-index, .page-next, .page-last").on("click",function(o){o.preventDefault();var i=location.search;i?i.indexOf("page=")==-1?location.assign(location.href+"&page="+t(this).attr("data-index")):location.assign(location.href.replace(/page=\d+/,"")+"&page="+t(this).attr("data-index")):location.assign("/good/getGoods?page="+t(this).attr("data-index"))}),t(".goods-list").on("click",".goods-enter",function(i){i.preventDefault();var n=t(this);return"working"!=n.attr("working")&&(n.attr("working","working"),void o(n.attr("data-id"),!0))}),t(".goods-list").on("click",".goods-outer",function(i){i.preventDefault();var n=t(this);return"working"!=n.attr("working")&&(n.attr("working","working"),void o(n.attr("data-id"),!1))}),t(".goods-list").on("click",".goods-count",function(){var o=t(this);t("#plus_good_id").val(o.attr("data-id")),t("#plus_current_good_count").html(o.attr("data-count"))}),t("#plus_count_modal").on("click",".confirm-plus-count",function(o){o.preventDefault();var i=t("#plus_count_form"),n=i.serialize();return!("submitting"==i.attr("submitting")||!i.valid())&&(i.attr("submitting","submitting"),void t.post("/good/addGoodCount",n,function(t){i.attr("submitting",""),1==t.code?location.reload():alert(t.message||"增加库存失败, 请稍后重试")}))}),t(".goods-list").on("click",".goods-minus-count",function(){var o=t(this);t("#minus_good_id").val(o.attr("data-id")),t("#minus_current_good_count").html(o.attr("data-count"))}),t("#minus_count_modal").on("click",".confirm-minus-count",function(o){o.preventDefault();var i=t("#minus_count_form"),n=i.serialize();return!("submitting"==i.attr("submitting")||!i.valid())&&(i.attr("submitting","submitting"),void t.post("/good/minusGoodCount",n,function(t){i.attr("submitting",""),1==t.code?location.reload():alert(t.message||"损耗库存失败, 请稍后重试")}))})}};o.init()}(jQuery);