!function(t){var i={opts:{URL:"/order/getOrderList?orderServiceTypes=300"},init:function(){this.initEvents()},initEvents:function(){var i=this;t(".order-filter").on("click",function(o){o.preventDefault();var r=t("#orders_filter_form").serialize();location.assign(i.opts.URL+"&"+r)}),t(".page-first, .page-prev, .page-index, .page-next, .page-last").on("click",function(o){o.preventDefault();var r=location.search,e=t(this).attr("data-index");r?r.indexOf("page=")==-1?location.assign(i.opts.URL+"&"+r+"&page="+e):location.assign(i.opts.URL+"&"+r.replace(/(page=)\d+/,"$1"+e)):location.assign(i.opts.URL+"&page="+e)}),t(".order-cancel").on("click",function(i){i.preventDefault();var o={orderId:t(this).attr("data-id")};return"working"!=t(this).attr("working")&&(t(this).attr("working","working"),void t.post("/order/cancelOrder",o,function(i){t(this).attr("working",""),1==i.code?location.reload():(t.logConsole("取消订单失败",i.message),t.tipsWarningAlert("取消订单失败"))}))}),t(".order-delete").on("click",function(i){i.preventDefault();var o={orderId:t(this).attr("data-id")};return"working"!=t(this).attr("working")&&(t(this).attr("working","working"),void t.post("/order/deleteOrder",o,function(i){t(this).attr("working",""),1==i.code?location.reload():(t.logConsole("取消订单失败",i.message),t.tipsWarningAlert("取消订单失败"))}))}),t(".order-pay").on("click",function(i){i.preventDefault(),t("#goods_paid_order").val(t(this).attr("data-id")),t("#goods_paid_sum").val(t(this).attr("data-price")),t("#pay_model").modal({backdrop:!1,show:!0})}),t("#goods_paid_confirm").on("click",function(i){i.preventDefault();var o=t("#goods_paid_form"),r=o.serialize();return!("submitting"===o.attr("submitting")||!o.valid())&&(o.attr("submitting","submitting"),void t.post("/good/confirmOrder",r,function(i){o.attr("submitting",""),1==i.code?t.tipsSuccessAlert("支付订单成功！",function(){t("#pay_model").modal("hide"),location.reload()}):(t.logConsole("支付订单失败",i.message),t.tipsWarningAlert("支付订单失败"))}))})}};i.init()}(jQuery);