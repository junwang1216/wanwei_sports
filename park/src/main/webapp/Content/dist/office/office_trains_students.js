!function(t){var n={init:function(){this.initEvents()},initEvents:function(){function n(n){t("#student_sign_modal").find("#students_sign_name").val(n.studentName||""),t("#student_sign_modal").find("#students_contact_phone").val(n.studentMobile||""),t("#student_sign_modal").find("#trains_sign_desc").val(n.remark||""),2==n.payStatus?t("#student_sign_modal").find("#students_pay_status2").prop("checked",!0):t("#student_sign_modal").find("#students_pay_status1").prop("checked",!0)}t(".sign-list").on("click",".sign-pay",function(n){n.preventDefault();var i=t(this).attr("data-id");t(this).attr("data-price");t.post("office/getTrainsClassStudentsSign",{signId:i},function(n){var i=n.data;1==n.code?(t("#student_pay_modal").find("#students_id").val(i.id||""),t("#student_pay_modal").find("#students_paid_price").val(i.payPrice||"0"),t("#student_pay_modal").find("#trains_pay_remark").val(i.remark||""),2==i.payStatus?t("#student_pay_modal").find("#students_status2").prop("checked",!0):t("#student_pay_modal").find("#students_status1").prop("checked",!0)):(t.logConsole("查询报名详情失败",n.message),t.tipsWarningAlert("查询报名详情失败"))})}),t(".sign-list").on("click",".sign-delete",function(n){n.preventDefault();var i=t(this).attr("data-id");t.post("office/deleteTrainsStudents",{signId:i},function(n){1==n.code?location.reload():(t.logConsole("删除报名详情失败",n.message),t.tipsWarningAlert("删除报名详情失败"))})}),t(".add-sign").on("click",function(t){t.preventDefault(),n({})}),t(".sign-confirm").on("click",function(n){n.preventDefault();var i=t("#students_form"),s=i.serialize();return!("submitting"===i.attr("submitting")||!i.valid())&&(i.attr("submitting","submitting"),void t.post("office/signTrainsStudents",s,function(n){i.attr("submitting",""),1==n.code?location.reload():(t.logConsole("报名信息保存失败",n.message),t.tipsWarningAlert("报名信息保存失败"))}))}),t(".pay-confirm").on("click",function(n){n.preventDefault();var i=t("#students_pay_form"),s=i.serialize();return!("submitting"===i.attr("submitting")||!i.valid())&&(i.attr("submitting","submitting"),void t.post("office/payTrainsStudents",s,function(n){i.attr("submitting",""),1==n.code?location.reload():(t.logConsole("报名信息保存失败",n.message),t.tipsWarningAlert("报名信息保存失败"))}))})}};n.init()}(jQuery);