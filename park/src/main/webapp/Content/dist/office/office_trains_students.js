!function(t){var n={init:function(){this.initEvents()},initEvents:function(){function n(n){t("#student_sign_modal").find("#students_class_id").val(n.id||""),t("#student_sign_modal").find("#students_sign_name").val(n.studentName||""),t("#student_sign_modal").find("#students_contact_phone").val(n.studentMobile||""),t("#student_sign_modal").find("#trains_sign_desc").val(n.remark||""),t("#student_sign_modal").find("#students_class_price").val(n.payPrice||"0"),2==n.payStatus?t("#student_sign_modal").find("#students_pay_status2").prop("checked",!0):t("#student_sign_modal").find("#students_pay_status1").prop("checked",!0)}t(".sign-list").on("click",".sign-pay",function(n){n.preventDefault();var s=t(this).attr("data-id");t(this).attr("data-price");t.post("office/getTrainsClassStudentsSign",{signId:s},function(n){var s=n.data;1==n.code?(t("#student_pay_modal").find("#students_id").val(s.id||""),t("#student_pay_modal").find("#students_paid_price").val(s.payPrice||"0"),t("#student_pay_modal").find("#trains_pay_remark").val(s.remark||""),2==s.payStatus?t("#student_pay_modal").find("#students_status2").prop("checked",!0):t("#student_pay_modal").find("#students_status1").prop("checked",!0)):(console.log(n.message||"查询报名详情失败, 请稍后重试"),alert(n.message||"查询报名详情失败, 请稍后重试"))})}),t(".sign-list").on("click",".sign-delete",function(n){n.preventDefault();var s=t(this).attr("data-id");t.post("office/deleteTrainsStudents",{signId:s},function(t){1==t.code?location.reload():(console.log(t.message||"删除报名详情失败, 请稍后重试"),alert(t.message||"删除报名详情失败, 请稍后重试"))})}),t(".add-sign").on("click",function(t){t.preventDefault(),n({})}),t(".sign-confirm").on("click",function(n){n.preventDefault();var s=t("#students_form"),i=s.serialize();return!("submitting"===s.attr("submitting")||!s.valid())&&(s.attr("submitting","submitting"),void t.post("office/signTrainsStudents",i,function(t){s.attr("submitting",""),1==t.code?location.reload():alert(t.message||"报名信息保存失败, 请稍后重试")}))}),t(".pay-confirm").on("click",function(n){n.preventDefault();var s=t("#students_pay_form"),i=s.serialize();return!("submitting"===s.attr("submitting")||!s.valid())&&(s.attr("submitting","submitting"),void t.post("office/payTrainsStudents",i,function(t){s.attr("submitting",""),1==t.code?location.reload():alert(t.message||"报名信息保存失败, 请稍后重试")}))})}};n.init()}(jQuery);