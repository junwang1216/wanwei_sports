!function(e){var t={init:function(){e.datetimepicker.setLocale("zh"),e("#memberBirthday").datetimepicker({timepicker:!1,lang:"zh",format:"Y-m-d",defaultDate:new Date,maxDate:0}),e(".member-birthday-select").on("click",function(t){t.preventDefault(),e("#memberBirthday").datetimepicker("show")}),this.initEvents()},initEvents:function(){e("#member_idcard").on("change",function(t){t.preventDefault();var i=e(this).val(),n=i.replace(/^\d{6}(\d{4})(\d{2})(\d{2})[0-9xX]{4}$/,"$1-$2-$3"),r=i.replace(/^\d{16}(\d{1})[0-9xX]{1}$/,"$1");e("#member_birthday").val(n),e("[name='memberSex'][value='"+(r%2?1:2)+"']").prop("checked",!0)}),e(".save-member").on("click",function(t){t.preventDefault();var i=e(this).button("loading"),n=e("#member_form"),r=n.serialize();return!("submitting"==n.attr("submitting")||!n.valid())&&(n.attr("submitting","submitting"),void e.post("/member/saveMember",r,function(t){n.attr("submitting",""),1==t.code?e.tipsSuccessAlert("教师信息保存成功！",function(){location.assign("/teachers/list")}):(e.logConsole("教师信息保存失败",res1.message),e.tipsWarningAlert("教师信息保存失败")),i.button("reset")}))})}};t.init()}(jQuery);