!function(e){var t={init:function(){e.datetimepicker.setLocale("zh"),e("#memberBirthday").datetimepicker({timepicker:!1,lang:"zh",format:"Y-m-d",defaultDate:new Date,maxDate:0}),e(".member-birthday-select").on("click",function(t){t.preventDefault(),e("#memberBirthday").datetimepicker("show")}),this.initEvents()},initEvents:function(){e(".register-member").on("click",function(t){t.preventDefault();var i=e("#member_form"),m=i.serialize();return!("submitting"==i.attr("submitting")||!i.valid())&&(i.attr("submitting","submitting"),void e.post("/member/saveMember",m,function(t){var a=t.data;return 1!=t.code?(console.log(t.message||"教师信息注册失败, 请稍后重试"),void alert(t.message||"教师信息注册失败, 请稍后重试")):(e('[name="memberId"]').val(a.memberId),m.memberId=a.memberId,void e.post("/member/saveMemberCar",m,function(t){i.attr("submitting",""),1==t.code?(e("#tips_success_modal").modal({show:!0,backdrop:!1}),setTimeout(function(){e("#tips_success_modal").modal("hide"),location.assign("/teachers/list")},3e3)):(console.log(t.message||"教师绑卡失败, 请稍后重试"),alert(t.message||"教师绑卡失败, 请稍后重试"))}))}))})}};t.init()}(jQuery);