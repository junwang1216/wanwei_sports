!function(e){e("#student_name").on("input",function(s){s.preventDefault(),/^\s*$/.test(e(this).val())?e(this).parents(".weui-cell").addClass("weui-cell_warn"):e(this).parents(".weui-cell").removeClass("weui-cell_warn")}),e("#student_mobile").on("input",function(s){s.preventDefault(),/^1\d{10}$/.test(e(this).val())?e(this).parents(".weui-cell").removeClass("weui-cell_warn"):e(this).parents(".weui-cell").addClass("weui-cell_warn")}),e("#class_id").on("change",function(s){s.preventDefault(),"0"==e(this).val()?e(this).parents(".weui-cell").addClass("weui-cell_warn"):(e(this).parents(".weui-cell").removeClass("weui-cell_warn"),e.post("/mobile/training/classInfo",{classId:e(this).val()},function(s){var t=s.data;1==s.code?e("#pay_price").val(t.classInfo.classPrice):(e.logConsole("查询班级详情失败",s.message),e.tipsWarningAlert(s.message||"查询班级详情失败"))}))}),e("#pay_status").on("change",function(s){s.preventDefault(),"0"==e(this).val()?e(this).parents(".weui-cell").addClass("weui-cell_warn"):e(this).parents(".weui-cell").removeClass("weui-cell_warn")}),e("#confirm_signup").on("click",function(s){s.preventDefault();var t=e("#signup_form"),i=t.serialize();return e("#student_name").trigger("input"),e("#student_mobile").trigger("input"),e("#class_id").trigger("change"),e("#pay_status").trigger("change"),!(e(".weui-cell_warn").size()>0)&&("submitting"!=t.attr("submitting")&&(t.attr("submitting","submitting"),void e.post("/mobile/training/signTrainsStudents",i,function(s){t.attr("submitting",""),1==s.code?e.tipsSuccessAlert("报名成功！",function(){location.assign("/business/training/students?classId="+e("#class_id").val())}):(e.logConsole("用户报名失败",s.message),e.tipsWarningAlert(s.message||"用户报名失败"))})))})}(Zepto);