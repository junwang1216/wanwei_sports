!function(i){i(".login-dialog-show").on("click",function(){i(".login-dialog").show()}),i(".logout-confirm").on("click",function(){i.post("/mobile/passport/userLogout",{},function(e){1==e.code?location.reload():(i.logConsole("用户退出登录失败",e.message),i.tipsWarningAlert(e.message||"用户退出登录失败"))})}),i("#mobile").on("input",function(e){e.preventDefault(),/^1\d{10}$/.test(i(this).val())?i(this).parents(".weui-cell").removeClass("weui-cell_warn"):i(this).parents(".weui-cell").addClass("weui-cell_warn")}),i("#password").on("input",function(e){e.preventDefault(),/^[A-Za-z0-9\^\$\.\+\*_@!#%&amp;~=-]{6,32}$/.test(i(this).val())?i(this).parents(".weui-cell").removeClass("weui-cell_warn"):i(this).parents(".weui-cell").addClass("weui-cell_warn")}),i(".login-cancel").on("click",function(e){e.preventDefault(),i(".login-dialog").hide()}),i(".login-confirm").on("click",function(e){e.preventDefault();var t=i("#login_form"),n=t.serialize();return i("#password").trigger("input"),i("#mobile").trigger("input"),i(".weui-cell_warn").size()>0?(i.tipsWarningAlert("请输入合法的手机号和密码"),!1):"submitting"!=t.attr("submitting")&&(t.attr("submitting","submitting"),void i.post("/mobile/passport/userLogin",n,function(e){t.attr("submitting",""),1==e.code?location.reload():(i.logConsole("用户登录失败",e.message),i.tipsWarningAlert(e.message||"用户登录失败"))}))})}(Zepto);